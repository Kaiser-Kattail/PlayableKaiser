kaiser_bureau = {
	potential = {
		exists = from
		from = {
			NOT = { has_country_flag = giga_diplo_sa_buttons }
			AND = { 
				has_country_flag = pki_menu_formed
				has_origin = origin_katzen
			}
		}
	}
	allow = { HIDDEN_TRIGGER = { from = { NOT = { has_country_flag = conquest_map_active } } } }
	effect = { custom_tooltip = "kaiser_bureau_tooltip" hidden_effect = { from = { country_event = { id = pki_menu.2 } } } }
}

pki_always_no_effect = {
	potential = { always = yes }
	allow = { always = yes }
}

pki_flusion_map_active_effect = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
}

pki_flusion_map_inactive_effect = {
	potential = { event_target:pki_player = { NOT = { has_country_flag = pki_conquest_map_tab } } }
	allow = { always = yes }
	effect = { event_target:pki_player = { pki_clear_gui_flags = yes set_country_flag = pki_conquest_map_tab } }
}

pki_flusion_focus_active_effect = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab } }
	allow = { always = yes }
}

pki_flusion_focus_inactive_effect = {
	potential = { event_target:pki_player = { NOT = { has_country_flag = pki_focus_tree_tab } } }
	allow = { always = yes }
	effect = { event_target:pki_player = { pki_clear_gui_flags = yes set_country_flag = pki_focus_tree_tab } }
}

pki_focus_tree_no_effect = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab } }
	allow = { always = yes }
}

pki_map_no_effect = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
}

pki_map_industry_total = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { custom_tooltip = pki_industry_total_tt }
}

pki_map_mult_1 = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { hidden_effect = { event_target:pki_player = { pki_clear_map_selector_mults = yes set_country_flag = pki_map_industry_mult_1 set_variable = { which = pki_map_industry_select_mult value = 1 } } } }
}

pki_map_mult_1_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab  has_country_flag = pki_map_industry_mult_1 } }
	allow = { always = yes }
	effect = {}
}

pki_map_mult_10 = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { hidden_effect = { event_target:pki_player = { pki_clear_map_selector_mults = yes set_country_flag = pki_map_industry_mult_10 set_variable = { which = pki_map_industry_select_mult value = 10 } } } }
}

pki_map_mult_10_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab  has_country_flag = pki_map_industry_mult_10 } }
	allow = { always = yes }
	effect = {}
}

pki_map_mult_100 = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { hidden_effect = { event_target:pki_player = { pki_clear_map_selector_mults = yes set_country_flag = pki_map_industry_mult_100 set_variable = { which = pki_map_industry_select_mult value = 100 } } } }
}

pki_map_mult_100_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab  has_country_flag = pki_map_industry_mult_100 } }
	allow = { always = yes }
	effect = { }
}

pki_map_increase = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { hidden_effect = { event_target:pki_player = { pki_increase_used_factories = yes } } }
}

pki_map_decrease = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { hidden_effect = { event_target:pki_player = { pki_decrease_used_factories = yes } } }
}

### COUNTRIES

inline_script = {
	script = pki/pki_inline_script_katzen
	SCRIPT_NAME = map
}

pki_map_country_contact = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { hidden_trigger = { event_target:pki_player = { NOT = { has_country_flag = pki_contacted_country } } custom_tooltip_fail = { text = PKI_CANT_CONTACT_SELF hidden_trigger = { event_target:pki_player = { NOT = { has_country_flag = pki_map_KAT_selected } } } } } }
	effect = { custom_tooltip = PKI_DIPLOMACY_TT hidden_effect = { event_target:pki_player = { country_event = { id = pki_flusion_nations.0000 } } } }
}

pki_map_factories_tt = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { custom_tooltip = PKI_SELECTED_COUNTRY_FACTORIES_tt }
}

pki_map_building_slots_tt = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { custom_tooltip = PKI_SELECTED_COUNTRY_BUILDING_SLOTS_tt }
}

pki_map_armies_tt = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { custom_tooltip = PKI_SELECTED_COUNTRY_ARMIES_tt }
}

pki_map_planes_tt = {
	potential = { event_target:pki_player = { has_country_flag = pki_conquest_map_tab } }
	allow = { always = yes }
	effect = { custom_tooltip = PKI_SELECTED_COUNTRY_PLANES_tt }
}

pki_focus_tree_tab_state = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab } }
	allow = { always = yes }
	effect = { event_target:pki_player = { pki_clear_focus_tree_tab_flags = yes set_country_flag = pki_focus_tree_tab_state } }
}

pki_focus_tree_tab_innovation = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab } }
	allow = { always = yes }
	effect = { event_target:pki_player = { pki_clear_focus_tree_tab_flags = yes set_country_flag = pki_focus_tree_tab_innovation } }
}

pki_focus_tree_tab_military = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab } }
	allow = { always = yes }
	effect = { event_target:pki_player = { pki_clear_focus_tree_tab_flags = yes set_country_flag = pki_focus_tree_tab_military } }
}

pki_focus_tree_tab_galactic = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab } }
	allow = { always = yes }
	effect = { event_target:pki_player = { pki_clear_focus_tree_tab_flags = yes set_country_flag = pki_focus_tree_tab_galactic } }
}

pki_focus_tree_tab_state_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab has_country_flag = pki_focus_tree_tab_state } }
	allow = { always = yes }
}

pki_focus_tree_tab_innovation_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab has_country_flag = pki_focus_tree_tab_innovation } }
	allow = { always = yes }
}

pki_focus_tree_tab_military_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab has_country_flag = pki_focus_tree_tab_military } }
	allow = { always = yes }
}

pki_focus_tree_tab_galactic_active = {
	potential = { event_target:pki_player = { has_country_flag = pki_focus_tree_tab has_country_flag = pki_focus_tree_tab_galactic } }
	allow = { always = yes }
}

### ADD FOCUSES HERE

inline_script = {
	script = pki_focuses/pki_all_focuses
	SCRIPT_NAME = pki_focus_button_effects
}
